---
import BaseLayout from '../../layouts/BaseLayout.astro';
import AstroHeader from '../../components/AstroHeader.astro';
import AstroFooter from '../../components/AstroFooter.astro';
import CategoryPromptGenerator from '../../components/CategoryPromptGenerator.jsx';
import prompts from '../../data/categoryPrompts.json';

export const prerender = true;

// Generate static paths for each unique category
export function getStaticPaths() {
  // Extract unique categories from the prompts
  const categories = [...new Set(prompts.map(prompt => prompt.category))];

  // Generate a path for each category
  return categories.map(category => {
    // Filter prompts for this specific category
    const categoryPrompts = prompts.filter(prompt => prompt.category === category);

    return {
      params: { category },
      props: {
        categoryPrompts,
        categoryName: category
      }
    };
  });
}

const { categoryPrompts, categoryName } = Astro.props;
const capitalizedCategory = categoryName.charAt(0).toUpperCase() + categoryName.slice(1);
const siteUrl = 'https://randomprompts.org';
const currentUrl = `${siteUrl}/prompts/${categoryName}`;

// SEO Metadata object for BaseLayout
const seo = {
  path: `prompts/${categoryName}`,
  title: `Random ${capitalizedCategory} Writing Prompts Generator | RandomPrompts.org`,
  description: `Generate over ${categoryPrompts.length} unique ${categoryName} story ideas and writing prompts. Perfect for writers, authors, and creative storytellers looking for ${categoryName} inspiration.`,
  keywords: `${categoryName} prompts, ${categoryName} writing prompts, ${categoryName} story ideas, creative writing, writing inspiration, ${categoryName} generator`
};

// JSON-LD Schema for SoftwareApplication
const schema = {
  "@context": "https://schema.org",
  "@type": "SoftwareApplication",
  "name": `${capitalizedCategory} Writing Prompts Generator`,
  "description": seo.description,
  "url": currentUrl,
  "applicationCategory": "EntertainmentApplication",
  "offers": {
    "@type": "Offer",
    "price": "0",
    "priceCurrency": "USD"
  },
  "operatingSystem": "Any",
  "browserRequirements": "Requires JavaScript",
  "creator": {
    "@type": "Organization",
    "name": "RandomPrompts.org"
  }
};
---

<BaseLayout seo={seo}>
  <!-- Additional SEO Meta Tags -->
  <Fragment slot="head">
    <script type="application/ld+json" set:html={JSON.stringify(schema)} />
  </Fragment>

  <AstroHeader />

  <!-- Hero Section -->
  <div class="bg-gradient-to-r from-blue-600 to-purple-600 text-white py-16">
    <div class="max-w-4xl mx-auto px-4 text-center">
      <h1 class="text-4xl md:text-5xl font-bold mb-4">
        {capitalizedCategory} Writing Prompts Generator
      </h1>
      <p class="text-lg opacity-90 mb-8 max-w-2xl mx-auto">
        Generate unique {categoryName} story ideas and creative writing prompts instantly.
        Perfect for writers, authors, and storytellers looking for {categoryName} inspiration.
      </p>
      <div class="flex flex-wrap justify-center gap-3 text-sm">
        <span class="px-4 py-2 bg-white/20 rounded-full backdrop-blur-sm">
          âœ¨ {categoryPrompts.length}+ Prompts
        </span>
        <span class="px-4 py-2 bg-white/20 rounded-full backdrop-blur-sm">
          ðŸŽ² Random Generation
        </span>
        <span class="px-4 py-2 bg-white/20 rounded-full backdrop-blur-sm">
          ðŸ“‹ Copy & Save
        </span>
      </div>
    </div>
  </div>

  <!-- Interactive Generator Component -->
  <div class="max-w-6xl mx-auto px-4 py-8">
    <CategoryPromptGenerator
      initialPrompts={categoryPrompts}
      category={categoryName}
      client:load
    />
  </div>

  <!-- SEO Content Section -->
  <section class="bg-gray-50 py-16">
    <div class="max-w-4xl mx-auto px-4">
      <h2 class="text-3xl font-bold text-gray-900 mb-6">
        How to Use These {capitalizedCategory} Prompts
      </h2>

      <div class="text-gray-700 space-y-4 mb-12">
        <p>
          Overcoming writer's block in the {categoryName} genre can be challenging, but our {categoryName} writing
          prompts generator makes it effortless. Whether you're a seasoned author or just starting your creative
          writing journey, these carefully crafted prompts will spark your imagination and help you develop
          compelling {categoryName} stories.
        </p>

        <p>
          <strong>Getting Started:</strong> Simply click the "Generate New Prompt" button to receive a fresh
          {categoryName} writing idea. Found one you love? Use the lock button to save it while you explore
          other options, or click the copy button to add it to your writing notebook. Our generator features
          over {categoryPrompts.length} unique {categoryName} prompts, ensuring you'll always have fresh inspiration.
        </p>

        <p>
          <strong>Best Practices:</strong> Don't feel constrained by the promptâ€”use it as a starting point and
          let your creativity take over. Combine elements from multiple prompts, change character perspectives,
          or adapt the setting to match your unique vision. The goal is to break through creative barriers and
          get your words flowing.
        </p>
      </div>

      <h2 class="text-3xl font-bold text-gray-900 mb-6">
        Why {capitalizedCategory} Writing Prompts Work
      </h2>

      <div class="text-gray-700 space-y-4 mb-12">
        <p>
          {capitalizedCategory} writing prompts are more than just random ideasâ€”they're carefully designed to
          engage specific elements that make {categoryName} stories compelling. Each prompt in our generator
          incorporates key ingredients that resonate with {categoryName} readers and provide clear narrative
          direction for writers.
        </p>

        <p>
          Research shows that writers who use prompts regularly develop stronger creative muscles and overcome
          writer's block more quickly. By removing the pressure of starting from a blank page, prompts allow
          you to focus on what matters most: crafting engaging {categoryName} narratives that captivate your
          audience.
        </p>
      </div>
    </div>
  </section>

  <!-- FAQ Section -->
  <section class="bg-white py-16">
    <div class="max-w-4xl mx-auto px-4">
      <h2 class="text-3xl font-bold text-gray-900 mb-8 text-center">
        Frequently Asked Questions About {capitalizedCategory} Writing
      </h2>

      <div class="space-y-6">
        <div class="bg-gray-50 rounded-lg p-6 border border-gray-200">
          <h3 class="text-xl font-semibold text-gray-900 mb-3">
            What makes a good {categoryName} writing prompt?
          </h3>
          <p class="text-gray-700">
            A good {categoryName} prompt provides enough structure to guide your story while leaving room for
            creative interpretation. It should include compelling elements specific to the {categoryName} genreâ€”such
            as unique conflicts, interesting characters, or thought-provoking scenariosâ€”while avoiding overly
            prescriptive details that limit your creativity.
          </p>
        </div>

        <div class="bg-gray-50 rounded-lg p-6 border border-gray-200">
          <h3 class="text-xl font-semibold text-gray-900 mb-3">
            Can I use these prompts for published work?
          </h3>
          <p class="text-gray-700">
            Absolutely! All prompts generated by our tool are free to use for any purpose, including commercial
            publication. The prompts are designed as creative springboardsâ€”the unique story you create from them
            is entirely your own original work. We encourage writers to develop these {categoryName} ideas into
            full stories, novels, or any other creative projects.
          </p>
        </div>

        <div class="bg-gray-50 rounded-lg p-6 border border-gray-200">
          <h3 class="text-xl font-semibold text-gray-900 mb-3">
            How often should I use writing prompts?
          </h3>
          <p class="text-gray-700">
            Many successful {categoryName} writers incorporate prompts into their daily or weekly writing practice.
            Even if you're working on a long-term project, spending 15-30 minutes with a prompt can serve as an
            excellent warm-up exercise, help you explore new techniques, or provide a creative break when you're
            feeling stuck on your main work.
          </p>
        </div>

        <div class="bg-gray-50 rounded-lg p-6 border border-gray-200">
          <h3 class="text-xl font-semibold text-gray-900 mb-3">
            What if I don't like the generated prompt?
          </h3>
          <p class="text-gray-700">
            Simply click "Generate New Prompt" to receive another idea! Our {categoryName} prompt generator contains
            {categoryPrompts.length}+ unique combinations, so you can keep exploring until you find one that resonates
            with you. You can also use the history feature to revisit previously generated prompts if you change your
            mind.
          </p>
        </div>
      </div>
    </div>
  </section>

  <AstroFooter />
</BaseLayout>
