---
import BaseLayout from '../../layouts/BaseLayout.astro';
import AstroHeader from '../../components/AstroHeader.astro';
import AstroFooter from '../../components/AstroFooter.astro';
import GenerationHistory from '../../components/account/GenerationHistory';

export const prerender = false;

const seo = {
  title: 'Generation History - Random Prompts Generator',
  description: 'View and manage your past content generations.',
  keywords: 'history, generations, content library',
  path: '/account/history'
};

const SUPABASE_URL = import.meta.env.PUBLIC_SUPABASE_URL || '';
const SUPABASE_ANON_KEY = import.meta.env.PUBLIC_SUPABASE_ANON_KEY || '';
---

<BaseLayout seo={seo}>
  <AstroHeader />

  <GenerationHistory
    client:load
    supabaseUrl={SUPABASE_URL}
    supabaseAnonKey={SUPABASE_ANON_KEY}
  />

  <AstroFooter />
</BaseLayout>

<script is:inline define:vars={{ SUPABASE_URL, SUPABASE_ANON_KEY }}>
  window.__SUPABASE_URL__ = SUPABASE_URL;
  window.__SUPABASE_ANON_KEY__ = SUPABASE_ANON_KEY;
</script>
